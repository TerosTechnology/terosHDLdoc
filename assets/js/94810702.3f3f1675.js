"use strict";(self.webpackChunkteroshdl_doc=self.webpackChunkteroshdl_doc||[]).push([[1588],{8577:(e,s,n)=>{n.r(s),n.d(s,{assets:()=>a,contentTitle:()=>r,default:()=>h,frontMatter:()=>l,metadata:()=>o,toc:()=>c});var i=n(74848),t=n(28453);const l={description:"Yosys"},r="Yosys",o={id:"external_tools/yosys",title:"Yosys",description:"Yosys",source:"@site/docs/11-external_tools/05-yosys.md",sourceDirName:"11-external_tools",slug:"/external_tools/yosys",permalink:"/terosHDLdoc/docs/next/external_tools/yosys",draft:!1,unlisted:!1,editUrl:"https://github.com/facebook/docusaurus/tree/main/packages/create-docusaurus/templates/shared/docs/11-external_tools/05-yosys.md",tags:[],version:"current",sidebarPosition:5,frontMatter:{description:"Yosys"},sidebar:"tutorialSidebar",previous:{title:"GHDL",permalink:"/terosHDLdoc/docs/next/external_tools/ghdl"},next:{title:"Tutorials",permalink:"/terosHDLdoc/docs/next/category/tutorials"}},a={},c=[{value:"Table of Contents",id:"table-of-contents",level:2},{value:"Introduction",id:"introduction",level:2},{value:"Project Setup",id:"project-setup",level:2},{value:"Adding Source Files",id:"adding-source-files",level:3},{value:"Yosys Tasks Overview",id:"yosys-tasks-overview",level:2},{value:"1. Compile All",id:"1-compile-all",level:3},{value:"2. Load Files",id:"2-load-files",level:3},{value:"3. Analyze",id:"3-analyze",level:3},{value:"4. Elaborate",id:"4-elaborate",level:3},{value:"5. Synthesis",id:"5-synthesis",level:3},{value:"Show Schematic",id:"show-schematic",level:2},{value:"How to Use Show Schematic",id:"how-to-use-show-schematic",level:3},{value:"Troubleshooting Show Schematic",id:"troubleshooting-show-schematic",level:3},{value:"Resource Utilization Analysis",id:"resource-utilization-analysis",level:2},{value:"How to Use Resource Utilization",id:"how-to-use-resource-utilization",level:3},{value:"Report Contents",id:"report-contents",level:3},{value:"Design Overview Table",id:"design-overview-table",level:4},{value:"Module Breakdown Table",id:"module-breakdown-table",level:4},{value:"Cell Types Table",id:"cell-types-table",level:4},{value:"Workflow: Changing Configuration Between Stages",id:"workflow-changing-configuration-between-stages",level:2},{value:"Saving Design Between Stages",id:"saving-design-between-stages",level:2},{value:"Automatic State Management",id:"automatic-state-management",level:3},{value:"Configuration Tips",id:"configuration-tips",level:3}];function d(e){const s={a:"a",admonition:"admonition",h1:"h1",h2:"h2",h3:"h3",h4:"h4",header:"header",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(s.header,{children:(0,i.jsx)(s.h1,{id:"yosys",children:"Yosys"})}),"\n",(0,i.jsx)(s.h2,{id:"table-of-contents",children:"Table of Contents"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#introduction",children:"Introduction"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#project-setup",children:"Project Setup"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#yosys-tasks-overview",children:"Yosys Tasks Overview"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#using-the-show-feature",children:"Using the Show Feature"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#resource-utilization-analysis",children:"Resource Utilization Analysis"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#workflow-changing-configuration-between-stages",children:"Workflow: Changing Configuration Between Stages"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#saving-design-between-stages",children:"Saving Design Between Stages"})}),"\n",(0,i.jsx)(s.li,{children:(0,i.jsx)(s.a,{href:"#important-yosys-configuration-options",children:"Important Yosys Configuration Options"})}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"introduction",children:"Introduction"}),"\n",(0,i.jsx)(s.p,{children:"Yosys is an open-source RTL synthesis framework that TerosHDL integrates seamlessly. This guide explains how to use Yosys within TerosHDL to synthesize your Verilog and SystemVerilog designs, visualize circuits, and analyze resource utilization."}),"\n",(0,i.jsx)(s.admonition,{type:"warning",children:(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Current Language Support"}),": This integration currently supports Verilog and SystemVerilog only. VHDL support is not available in the current implementation."]})}),"\n",(0,i.jsx)(s.h2,{id:"project-setup",children:"Project Setup"}),"\n",(0,i.jsx)(s.h3,{id:"adding-source-files",children:"Adding Source Files"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Create a new TerosHDL project"})," or open an existing one"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Add your HDL source files"})," to the project:","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:'Select "Add files"'}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Note"}),": VHDL is not currently supported by the Yosys integration"]}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Selecting the Top Levels"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Click in the tick icon next to the top-level module in Sources View"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"yosys-tasks-overview",children:"Yosys Tasks Overview"}),"\n",(0,i.jsx)(s.p,{children:"TerosHDL provides several Yosys tasks that follow the typical synthesis workflow:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(45069).A+"",width:"695",height:"613"})}),"\n",(0,i.jsx)(s.h3,{id:"1-compile-all",children:"1. Compile All"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Purpose"}),": Run all the stages"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"2-load-files",children:"2. Load Files"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Purpose"}),": Loads the compiled files into Yosys memory"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"What it does"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Reads the parsed Verilog/SystemVerilog files into Yosys"}),"\n",(0,i.jsx)(s.li,{children:"Creates an internal representation of your design"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"3-analyze",children:"3. Analyze"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Purpose"}),": Analyzes the design for structural issues"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"What it does"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Performs design rule checks"}),"\n",(0,i.jsx)(s.li,{children:"Identifies potential issues like unconnected signals"}),"\n",(0,i.jsx)(s.li,{children:"Analyzes the design hierarchy and dependencies"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"4-elaborate",children:"4. Elaborate"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Purpose"}),": Expands the design hierarchy and resolves all references"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"What it does"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Instantiates all modules and resolves parameters"}),"\n",(0,i.jsx)(s.li,{children:"Flattens the design hierarchy if needed"}),"\n",(0,i.jsx)(s.li,{children:"Resolves all signal connections and port mappings"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"5-synthesis",children:"5. Synthesis"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Purpose"}),": Performs RTL synthesis to generate a gate-level netlist"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"What it does"}),":","\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Converts RTL code to logic gates"}),"\n",(0,i.jsx)(s.li,{children:"Maps to target technology (if specified)"}),"\n",(0,i.jsx)(s.li,{children:"Generates the final synthesized netlist"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"show-schematic",children:"Show Schematic"}),"\n",(0,i.jsx)(s.p,{children:"The Show feature generates and displays a visual schematic of your design:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(20892).A+"",width:"2701",height:"1493"})}),"\n",(0,i.jsx)(s.h3,{id:"how-to-use-show-schematic",children:"How to Use Show Schematic"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Complete at least the Elaborate task"})," (recommended after Synthesis for best results)"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Run the Show task"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Go to the Tasks panel"}),"\n",(0,i.jsx)(s.li,{children:'Click on "Show Schematic" under Yosys tasks'}),"\n",(0,i.jsx)(s.li,{children:"Wait for the task to complete"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"View the schematic"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"A webview will open displaying the circuit diagram"}),"\n",(0,i.jsx)(s.li,{children:"Use zoom controls to navigate the schematic"}),"\n",(0,i.jsx)(s.li,{children:"The diagram shows logic gates, connections, and signal paths"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"troubleshooting-show-schematic",children:"Troubleshooting Show Schematic"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Empty diagram"}),": Ensure your design has been elaborated or synthesized"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"No webview appears"}),": Check that the design contains synthesizable logic"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Large designs"}),": May take time to render; be patient with complex circuits"]}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"resource-utilization-analysis",children:"Resource Utilization Analysis"}),"\n",(0,i.jsx)(s.p,{children:"The Resource Utilization feature provides detailed statistics about your design:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(61271).A+"",width:"2850",height:"1880"})}),"\n",(0,i.jsx)(s.h3,{id:"how-to-use-resource-utilization",children:"How to Use Resource Utilization"}),"\n",(0,i.jsxs)(s.ol,{children:["\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Complete the Elaborate/Synthesis task"})," (required for accurate statistics)"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"Run the Resource Utilization task"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Go to the Tasks panel"}),"\n",(0,i.jsx)(s.li,{children:'Click on "Resource Utilization" under Yosys tasks'}),"\n",(0,i.jsx)(s.li,{children:"Wait for analysis to complete"}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(s.li,{children:["\n",(0,i.jsxs)(s.p,{children:[(0,i.jsx)(s.strong,{children:"View the report"}),":"]}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"A webview opens with detailed tables"}),"\n",(0,i.jsx)(s.li,{children:"Review design overview and per-module statistics"}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"report-contents",children:"Report Contents"}),"\n",(0,i.jsx)(s.h4,{id:"design-overview-table",children:"Design Overview Table"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Wires"}),": Total number of wires in the design"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Wire Bits"}),": Total number of individual wire bits"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Ports"}),": Number of input/output ports"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Port Bits"}),": Total bits in all ports"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Memories"}),": Number of memory instances"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Memory Bits"}),": Total memory capacity in bits"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Processes"}),": Number of behavioral processes"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Cells"}),": Total number of logic cells/gates"]}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"module-breakdown-table",children:"Module Breakdown Table"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Individual statistics for each module in your design"}),"\n",(0,i.jsx)(s.li,{children:"Cell types breakdown showing specific gate types used"}),"\n",(0,i.jsx)(s.li,{children:"Helps identify resource-heavy modules"}),"\n"]}),"\n",(0,i.jsx)(s.h4,{id:"cell-types-table",children:"Cell Types Table"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"Detailed breakdown of logic gate types"}),"\n",(0,i.jsx)(s.li,{children:"Shows optimization results and technology mapping"}),"\n"]}),"\n",(0,i.jsx)(s.h2,{id:"workflow-changing-configuration-between-stages",children:"Workflow: Changing Configuration Between Stages"}),"\n",(0,i.jsx)(s.p,{children:"You can modify your design and configuration between synthesis stages. You can also compare resource usage and schematics between stages. Here is an example comparing them between the Elaborate and Synthesis stages:"}),"\n",(0,i.jsx)(s.p,{children:(0,i.jsx)(s.img,{alt:"alt text",src:n(53878).A+"",width:"3840",height:"2160"})}),"\n",(0,i.jsx)(s.h2,{id:"saving-design-between-stages",children:"Saving Design Between Stages"}),"\n",(0,i.jsx)(s.p,{children:"Yosys TerosHDL integration automatically saves design state between tasks."}),"\n",(0,i.jsx)(s.h3,{id:"automatic-state-management",children:"Automatic State Management"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsx)(s.li,{children:"TerosHDL automatically saves the design state after each task"}),"\n",(0,i.jsx)(s.li,{children:"State files are stored in the project's build directory"}),"\n",(0,i.jsx)(s.li,{children:"Each task can resume from the previous task's output"}),"\n"]}),"\n",(0,i.jsx)(s.h3,{id:"configuration-tips",children:"Configuration Tips"}),"\n",(0,i.jsxs)(s.ul,{children:["\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Start with default settings"})," for initial experiments"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Gradually adjust optimization"})," levels based on results"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Use technology-specific synthesis"})," for FPGA targets"]}),"\n",(0,i.jsxs)(s.li,{children:[(0,i.jsx)(s.strong,{children:"Enable verbose logging"})," for debugging synthesis issues"]}),"\n"]})]})}function h(e={}){const{wrapper:s}={...(0,t.R)(),...e.components};return s?(0,i.jsx)(s,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},53878:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/compare-b0722c7c8c5c564ae53396aa276b62dd.png"},61271:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/resource-a5fc5243e2394e7b3bd8ba43d5c3373e.png"},20892:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/schematic-13c55190da2bb1ae367b1ef06c47a7b6.png"},45069:(e,s,n)=>{n.d(s,{A:()=>i});const i=n.p+"assets/images/tasks-46565f549939f3be08dd8a343208712e.png"},28453:(e,s,n)=>{n.d(s,{R:()=>r,x:()=>o});var i=n(96540);const t={},l=i.createContext(t);function r(e){const s=i.useContext(l);return i.useMemo((function(){return"function"==typeof e?e(s):{...s,...e}}),[s,e])}function o(e){let s;return s=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:r(e.components),i.createElement(l.Provider,{value:s},e.children)}}}]);